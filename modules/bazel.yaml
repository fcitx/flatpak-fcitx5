name: bazel
buildsystem: simple
build-options:
  strip: false
  no-debuginfo: true
  no-debuginfo-compression: true
sources:
  - type: file
    only-arches:
      - x86_64
    url: https://github.com/bazelbuild/bazel/releases/download/8.5.0/bazel-8.5.0-linux-x86_64
    sha256: 18255229d933b8da10151bdef223a302744296b09af8af1988c93faa1ea3c71f
    dest-filename: bazel
    x-checker-data:
      type: anitya
      project-id: 15227
      stable-only: true
      url-template: https://github.com/bazelbuild/bazel/releases/download/${version}/bazel-${version}-linux-x86_64
  - type: file
    only-arches:
      - aarch64
    url: https://github.com/bazelbuild/bazel/releases/download/8.5.0/bazel-8.5.0-linux-arm64
    sha256: 0c455abf42814ac53539ddd8147249a11b9e05c7dc83dbd6c8dfac1aec243d85
    dest-filename: bazel
    x-checker-data:
      type: anitya
      project-id: 15227
      stable-only: true
      url-template: https://github.com/bazelbuild/bazel/releases/download/${version}/bazel-${version}-linux-arm64
build-commands:
  - install -D -m755 bazel ${FLATPAK_DEST}/bin/bazel
cleanup:
  - '*'
