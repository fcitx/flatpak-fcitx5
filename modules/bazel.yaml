name: bazel
buildsystem: simple
build-options:
  strip: false
  no-debuginfo: true
  no-debuginfo-compression: true
sources:
  - type: file
    only-arches:
      - x86_64
    url: https://github.com/bazelbuild/bazel/releases/download/8.4.1/bazel-8.4.1-linux-x86_64
    sha256: 3453736dc067a9b923f3066aad378282cd864830d9ad135a45ac9c1ebc47bbae
    dest-filename: bazel
    x-checker-data:
      type: anitya
      project-id: 15227
      stable-only: true
      url-template: https://github.com/bazelbuild/bazel/releases/download/${version}/bazel-${version}-linux-x86_64
  - type: file
    only-arches:
      - aarch64
    url: https://github.com/bazelbuild/bazel/releases/download/8.4.1/bazel-8.4.1-linux-arm64
    sha256: 3f33cf243fb0500993443d896b41ce08659c23f2a65bd2bbd4314801588f6b2f
    dest-filename: bazel
    x-checker-data:
      type: anitya
      project-id: 15227
      stable-only: true
      url-template: https://github.com/bazelbuild/bazel/releases/download/${version}/bazel-${version}-linux-arm64
build-commands:
  - install -D -m755 bazel ${FLATPAK_DEST}/bin/bazel
cleanup:
  - '*'
